(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8856:function(e,t,r){Promise.resolve().then(r.bind(r,6374))},6374:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),a=r(2265),s=r(9376),i=r(2097),o=r(9116),l=r(3907),d=r(5186),c=r(6815),u=r(6070);function f(){let e=(0,s.useRouter)(),t=(0,i.t)(e=>e.setAuth),[r,f]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),b=async n=>{n.preventDefault(),p(""),m(!0);let a=new FormData(n.currentTarget),s=a.get("username"),i=a.get("password"),l=a.get("email"),d=new o.S(()=>null);try{let n;n=r?await d.login(s,i):await d.register(s,l,i),t(n.accessToken,n.user),e.push("/dashboard")}catch(e){p(e instanceof Error?e.message:"Authentication failed")}finally{m(!1)}};return(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-slate-950 to-slate-900",children:(0,n.jsxs)(u.Zb,{className:"w-full max-w-md bg-slate-900 border-slate-800",children:[(0,n.jsxs)(u.Ol,{className:"space-y-1",children:[(0,n.jsx)(u.ll,{className:"text-3xl font-bold text-center text-red-600",children:"HOMELABFLIX"}),(0,n.jsx)(u.SZ,{className:"text-center",children:r?"Sign in to your account":"Create a new account"})]}),(0,n.jsxs)(u.aY,{children:[(0,n.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"username",children:"Username"}),(0,n.jsx)(d.I,{id:"username",name:"username",type:"text",required:!0,placeholder:"Enter your username",className:"bg-slate-800 border-slate-700",disabled:h})]}),!r&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,n.jsx)(d.I,{id:"email",name:"email",type:"email",required:!0,placeholder:"Enter your email",className:"bg-slate-800 border-slate-700",disabled:h})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,n.jsx)(d.I,{id:"password",name:"password",type:"password",required:!0,placeholder:"Enter your password",className:"bg-slate-800 border-slate-700",disabled:h})]}),g&&(0,n.jsx)("div",{className:"text-red-500 text-sm bg-red-500/10 p-3 rounded",children:g}),(0,n.jsx)(l.z,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:h,children:h?"Loading...":r?"Sign In":"Sign Up"})]}),(0,n.jsx)("div",{className:"mt-4 text-center text-sm",children:(0,n.jsx)("button",{type:"button",onClick:()=>f(!r),className:"text-red-500 hover:underline",disabled:h,children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}},3907:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),a=r(2265),s=r(7053),i=r(4508);let o=(0,r(535).j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});l.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return l}});var n=r(7437),a=r(2265),s=r(4508);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(7437),a=r(2265),s=r(4508);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var n=r(7437),a=r(2265),s=r(370),i=r(535),o=r(4508);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.f,{ref:t,className:(0,o.cn)(l(),r),...a})});d.displayName=s.f.displayName},9116:function(e,t,r){"use strict";r.d(t,{S:function(){return a}});let n=r(257).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";class a{async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getToken(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization="Bearer ".concat(r));let a=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:n});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Unknown error"}))).error||"HTTP ".concat(a.status));return a.json()}async login(e,t){return this.fetch("/api/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})})}async register(e,t,r){return this.fetch("/api/auth/register",{method:"POST",body:JSON.stringify({username:e,email:t,password:r})})}async getMe(){return this.fetch("/api/auth/me")}async getIntegrations(){return this.fetch("/api/integrations")}async getIntegration(e){return this.fetch("/api/integrations/".concat(e))}async createIntegration(e){return this.fetch("/api/integrations",{method:"POST",body:JSON.stringify(e)})}async updateIntegration(e,t){return this.fetch("/api/integrations/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteIntegration(e){return this.fetch("/api/integrations/".concat(e),{method:"DELETE"})}async getIntegrationMetrics(e){return this.fetch("/api/integrations/".concat(e,"/metrics"))}async getAdapters(){return this.fetch("/api/integrations/adapters/list")}async getDashboard(){return this.fetch("/api/dashboard")}async getSettings(){return this.fetch("/api/settings")}async updateSettings(e){return this.fetch("/api/settings",{method:"PUT",body:JSON.stringify(e)})}constructor(e){this.baseUrl=n,this.getToken=e}}},2097:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(3011),a=r(6885);let s=(0,n.U)()((0,a.tJ)((e,t)=>({token:null,user:null,setAuth:(t,r)=>e({token:t,user:r}),clearAuth:()=>e({token:null,user:null}),isAuthenticated:()=>!!t().token}),{name:"homelabflix-auth"}))},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},370:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var n=r(2265);r(4887);var a=r(7053),s=r(7437),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:a,...i}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(o,{...i,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),o=n.forwardRef((e,t)=>(0,s.jsx)(i.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var l=o}},function(e){e.O(0,[248,971,117,744],function(){return e(e.s=8856)}),_N_E=e.O()}]);