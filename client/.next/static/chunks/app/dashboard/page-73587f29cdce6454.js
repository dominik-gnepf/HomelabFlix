(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{209:function(e,t,r){Promise.resolve().then(r.bind(r,763))},763:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7437),n=r(2265),a=r(9376),i=r(1713),o=r(2097),c=r(9116),d=r(3907),l=r(6070),u=r(8002),h=r(7648),f=r(9205);let g=(0,f.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var m=r(9397);let x=(0,f.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,f.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);function b(){let e=(0,a.useRouter)(),{token:t,clearAuth:r,isAuthenticated:f}=(0,o.t)(),b=new c.S(()=>t);(0,n.useEffect)(()=>{f()||e.push("/login")},[f,e]);let{data:y,isLoading:v,refetch:N}=(0,i.a)({queryKey:["dashboard"],queryFn:()=>b.getDashboard(),refetchInterval:3e4,enabled:f()}),j=e=>{switch(e){case"online":return"bg-green-500";case"warning":return"bg-yellow-500";case"offline":return"bg-red-500";default:return"bg-gray-500"}},w=e=>{switch(e){case"online":return"default";case"warning":return"secondary";case"offline":return"destructive";default:return"outline"}};return f()?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 to-slate-900",children:[(0,s.jsx)("header",{className:"border-b border-slate-800 bg-slate-950/50 backdrop-blur-sm sticky top-0 z-10",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-red-600",children:"HOMELABFLIX"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>N(),className:"border-slate-700",children:[(0,s.jsx)(g,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,s.jsx)(h.default,{href:"/integrations",children:(0,s.jsxs)(d.z,{variant:"outline",size:"sm",className:"border-slate-700",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Add Integration"]})}),(0,s.jsx)(h.default,{href:"/settings",children:(0,s.jsx)(d.z,{variant:"ghost",size:"icon",children:(0,s.jsx)(x,{className:"w-4 h-4"})})}),(0,s.jsx)(d.z,{variant:"ghost",size:"icon",onClick:()=>{r(),e.push("/login")},children:(0,s.jsx)(p,{className:"w-4 h-4"})})]})]})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:v?(0,s.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Loading dashboard..."})]})}):y&&0!==y.categories.length?(0,s.jsx)("div",{className:"space-y-12",children:y.categories.map(e=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-200",children:e.name}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.tiles.map(e=>(0,s.jsxs)(l.Zb,{className:"bg-slate-900/50 border-slate-800 hover:border-slate-700 transition-all cursor-pointer group",children:[(0,s.jsxs)(l.Ol,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)(l.ll,{className:"text-lg",children:e.name}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(j(e.status))})]}),(0,s.jsx)(u.C,{variant:w(e.status),className:"w-fit mt-2",children:e.status})]}),(0,s.jsxs)(l.aY,{className:"space-y-2",children:[e.metrics.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-slate-400",children:[e.label,":"]}),(0,s.jsxs)("span",{className:"font-medium",children:[e.value,e.unit||""]})]},t)),(0,s.jsxs)("div",{className:"text-xs text-slate-500 pt-2 border-t border-slate-800",children:["Updated: ",new Date(e.lastUpdated).toLocaleTimeString()]})]})]},e.id))})]},e.name))}):(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"No Integrations Yet"}),(0,s.jsx)("p",{className:"text-slate-400 mb-8",children:"Get started by adding your first integration"}),(0,s.jsx)(h.default,{href:"/integrations",children:(0,s.jsxs)(d.z,{className:"bg-red-600 hover:bg-red-700",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Add Integration"]})})]})})]}):null}},8002:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var s=r(7437);r(2265);var n=r(4508);let a=(0,r(535).j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)(a({variant:r}),t),...i})}},3907:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),n=r(2265),a=r(7053),i=r(4508);let o=(0,r(535).j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:c,asChild:d=!1,...l}=e,u=d?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:n,size:c,className:r})),ref:t,...l})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return l},ll:function(){return c}});var s=r(7437),n=r(2265),a=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});l.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9116:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});let s=r(257).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";class n{async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getToken(),s={"Content-Type":"application/json",...t.headers||{}};r&&(s.Authorization="Bearer ".concat(r));let n=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:s});if(!n.ok)throw Error((await n.json().catch(()=>({error:"Unknown error"}))).error||"HTTP ".concat(n.status));return n.json()}async login(e,t){return this.fetch("/api/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})})}async register(e,t,r){return this.fetch("/api/auth/register",{method:"POST",body:JSON.stringify({username:e,email:t,password:r})})}async getMe(){return this.fetch("/api/auth/me")}async getIntegrations(){return this.fetch("/api/integrations")}async getIntegration(e){return this.fetch("/api/integrations/".concat(e))}async createIntegration(e){return this.fetch("/api/integrations",{method:"POST",body:JSON.stringify(e)})}async updateIntegration(e,t){return this.fetch("/api/integrations/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteIntegration(e){return this.fetch("/api/integrations/".concat(e),{method:"DELETE"})}async getIntegrationMetrics(e){return this.fetch("/api/integrations/".concat(e,"/metrics"))}async getAdapters(){return this.fetch("/api/integrations/adapters/list")}async getDashboard(){return this.fetch("/api/dashboard")}async getSettings(){return this.fetch("/api/settings")}async updateSettings(e){return this.fetch("/api/settings",{method:"PUT",body:JSON.stringify(e)})}constructor(e){this.baseUrl=s,this.getToken=e}}},2097:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var s=r(3011),n=r(6885);let a=(0,s.U)()((0,n.tJ)((e,t)=>({token:null,user:null,setAuth:(t,r)=>e({token:t,user:r}),clearAuth:()=>e({token:null,user:null}),isAuthenticated:()=>!!t().token}),{name:"homelabflix-auth"}))},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[248,763,88,971,117,744],function(){return e(e.s=209)}),_N_E=e.O()}]);